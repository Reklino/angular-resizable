angular.module("angularResizable",[]).directive("resizable",["$window",function(e){function t(e){void 0===i?(i=e,setTimeout(function(){i(),i=void 0},100)):i=e}var i;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"="},link:function(i,n,r){i.$watch("rWidth",function(e){n[0].style.width=i.rWidth+"px"}),i.$watch("rHeight",function(e){n[0].style.height=i.rHeight+"px"}),n.addClass("resizable");for(var s,a,l,o,d,u=window.getComputedStyle(n[0],null),c=i.rDirections,h=i.rCenteredX?2:1,p=i.rCenteredY?2:1,x={},f=/^\d+\%$/,g=function(t,i){if(t.search(f)>-1){var n="x"===i?$(e).width():$(e).height();return n*parseInt(t)/100}return parseInt(t)},m=function(){x.width=!1,x.height=!1,"x"==d?x.width=i.rFlex?g(n[0].style.flexBasis,d):g(n[0].style.width,d):x.height=i.rFlex?g(n[0].style.flexBasis,d):g(n[0].style.height,d),x.id=n[0].id},v=function(e){var r="x"==d?l-e.clientX:l-e.clientY;switch(o){case"top":i.rFlex?n[0].style.flexBasis=a+r*p+"px":n[0].style.height=a+r*p+"px";break;case"right":i.rFlex?n[0].style.flexBasis=s-r*h+"px":n[0].style.width=s-r*h+"px";break;case"bottom":i.rFlex?n[0].style.flexBasis=a-r*p+"px":n[0].style.height=a-r*p+"px";break;case"left":i.rFlex?n[0].style.flexBasis=s+r*h+"px":n[0].style.width=s+r*h+"px"}m(),t(function(){i.$emit("angular-resizable.resizing",x)})},y=function(e){m(),i.$emit("angular-resizable.resizeEnd",x),i.$apply(),document.removeEventListener("mouseup",y,!1),document.removeEventListener("mousemove",v,!1),n.removeClass("no-transition")},w=function(e,t){o=t,d="left"==o||"right"==o?"x":"y",l="x"==d?e.clientX:e.clientY,s=parseInt(u.getPropertyValue("width")),a=parseInt(u.getPropertyValue("height")),n.addClass("no-transition"),document.addEventListener("mouseup",y,!1),document.addEventListener("mousemove",v,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,m(),i.$emit("angular-resizable.resizeStart",x),i.$apply()},b=0;b<c.length;b++)!function(){var e=document.createElement("div"),t=c[b];e.setAttribute("class","rg-"+c[b]),e.innerHTML="<div><span></span></div>",n[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){w(e,t)},!1)}()}}}]);
