angular.module("angularResizable",[]).directive("resizable",function(){return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"="},link:function(e,t,i){e.$watch("rWidth",function(i){t[0].style.width=e.rWidth+"px"}),e.$watch("rHeight",function(i){t[0].style.height=e.rHeight+"px"}),t.addClass("resizable");for(var r,n,s,a,l,o=window.getComputedStyle(t[0],null),d=e.rDirections,u=e.rCenteredX?2:1,c=e.rCenteredY?2:1,p={},h=function(){p.width=!1,p.height=!1,"x"==l?p.width=parseInt(e.rFlex?t[0].style.flexBasis:t[0].style.width):p.height=parseInt(e.rFlex?t[0].style.flexBasis:t[0].style.height),p.id=t[0].id},x=function(i){var o="x"==l?s-i.clientX:s-i.clientY;switch(a){case"top":e.rFlex?t[0].style.flexBasis=n+o*c+"px":t[0].style.height=n+o*c+"px";break;case"right":e.rFlex?t[0].style.flexBasis=r-o*u+"px":t[0].style.width=r-o*u+"px";break;case"bottom":e.rFlex?t[0].style.flexBasis=n-o*c+"px":t[0].style.height=n-o*c+"px";break;case"left":e.rFlex?t[0].style.flexBasis=r+o*u+"px":(e.$emit("angular-resizable.resizing",p),t[0].style.width=r+o*u+"px")}},g=function(i){h(),e.$emit("angular-resizable.resizeEnd",p),e.$apply(),document.removeEventListener("mouseup",g,!1),document.removeEventListener("mousemove",x,!1),t.removeClass("no-transition")},f=function(i,d){a=d,l="left"==a||"right"==a?"x":"y",s="x"==l?i.clientX:i.clientY,r=parseInt(o.getPropertyValue("width")),n=parseInt(o.getPropertyValue("height")),t.addClass("no-transition"),document.addEventListener("mouseup",g,!1),document.addEventListener("mousemove",x,!1),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),i.cancelBubble=!0,i.returnValue=!1,h(),e.$emit("angular-resizable.resizeStart",p),e.$apply()},m=0;m<d.length;m++)!function(){var e=document.createElement("div"),i=d[m];e.setAttribute("class","rg-"+d[m]),e.innerHTML="<div><span></span></div>",t[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){f(e,i)},!1)}()}}});