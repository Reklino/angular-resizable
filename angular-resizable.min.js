angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@",rGrid:"="},link:function(t,i,r){t.$watch("rWidth",function(e){i[0].style.width=t.rWidth+"px"}),t.$watch("rHeight",function(e){i[0].style.height=t.rHeight+"px"}),i.addClass("resizable");for(var n,a,s,l,o,d,u,c=(window.getComputedStyle(i[0],null),t.rDirections),h=t.rCenteredX?2:1,p=t.rCenteredY?2:1,g=t.rGrabber?t.rGrabber:"<span></span>",x={},f=function(e){x.width=!1,x.height=!1,"x"==u?x.width=parseInt(t.rFlex?i[0].style.flexBasis:i[0].style.width):x.height=parseInt(t.rFlex?i[0].style.flexBasis:i[0].style.height),x.id=i[0].id,x.evt=e,x.originalWidth=n,x.originalHeight=a},b=function(r){var n="x"==u?o-r.clientX:o-r.clientY,a=t.rGrid[0]||1,c=t.rGrid[1]||1;switch(n="x"==u?Math.round((s+n-s)/a)*a:Math.round((l+n-l)/c)*c,d){case"top":t.rFlex?i[0].style.flexBasis=l+n*p+"px":i[0].style.height=l+n*p+"px";break;case"right":t.rFlex?i[0].style.flexBasis=s-n*h+"px":i[0].style.width=s-n*h+"px";break;case"bottom":t.rFlex?i[0].style.flexBasis=l-n*p+"px":i[0].style.height=l-n*p+"px";break;case"left":t.rFlex?i[0].style.flexBasis=s+n*h+"px":i[0].style.width=s+n*h+"px"}f(r),e(function(){t.$emit("angular-resizable.resizing",x)})},m=function(e){f(e),t.$emit("angular-resizable.resizeEnd",x),t.$apply(),document.removeEventListener("mouseup",m,!1),document.removeEventListener("mousemove",b,!1),i.removeClass("no-transition")},v=function(e,r){d=r,u="left"==d||"right"==d?"x":"y",o="x"==u?e.clientX:e.clientY;var c=i[0].getBoundingClientRect();s=parseInt(c.width),l=parseInt(c.height),n=s,a=l,i.addClass("no-transition"),document.addEventListener("mouseup",m,!1),document.addEventListener("mousemove",b,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,f(e),t.$emit("angular-resizable.resizeStart",x),t.$apply()},y=0;y<c.length;y++)!function(){var e=document.createElement("div"),r=c[y];e.setAttribute("class","rg-"+c[y]),e.innerHTML=g,i[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){disabled="true"==t.rDisabled,disabled||1!=e.which||v(e,r)},!1)}()}}});