angular.module("angularResizable",[]).directive("resizable",["$window",function(e){function t(e){void 0===r?(r=e,setTimeout(function(){r(),r=void 0},100)):r=e}var r;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@"},link:function(e,r,n){e.$watch("rWidth",function(t){r[0].style.width=e.rWidth+"px"}),e.$watch("rHeight",function(t){r[0].style.height=e.rHeight+"px"}),r.addClass("resizable");for(var i,s,a,l,o,u=window.getComputedStyle(r[0],null),d=e.rDirections,c=e.rCenteredX?2:1,p=e.rCenteredY?2:1,h=e.rGrabber?e.rGrabber:"<span></span>",x={},g=function(){x.width=!1,x.height=!1,"x"==o?x.width=e.rFlex?parseInt(r[0].style.flexBasis,o):parseInt($(r[0]).width(),o):x.height=e.rFlex?parseInt(r[0].style.flexBasis,o):parseInt($(r[0]).height(),o),x.id=r[0].id},f=function(n){var u="x"==o?a-n.clientX:a-n.clientY;switch(l){case"top":e.rFlex?r[0].style.flexBasis=s+u*p+"px":r[0].style.height=s+u*p+"px";break;case"right":e.rFlex?r[0].style.flexBasis=i-u*c+"px":r[0].style.width=i-u*c+"px";break;case"bottom":e.rFlex?r[0].style.flexBasis=s-u*p+"px":r[0].style.height=s-u*p+"px";break;case"left":e.rFlex?r[0].style.flexBasis=i+u*c+"px":r[0].style.width=i+u*c+"px"}g(),t(function(){e.$emit("angular-resizable.resizing",x)})},m=function(t){g(),e.$emit("angular-resizable.resizeEnd",x),e.$apply(),document.removeEventListener("mouseup",m,!1),document.removeEventListener("mousemove",f,!1),r.removeClass("no-transition")},v=function(t,n){l=n,o="left"==l||"right"==l?"x":"y",a="x"==o?t.clientX:t.clientY,i=parseInt(u.getPropertyValue("width")),s=parseInt(u.getPropertyValue("height")),r.addClass("no-transition"),document.addEventListener("mouseup",m,!1),document.addEventListener("mousemove",f,!1),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,g(),e.$emit("angular-resizable.resizeStart",x),e.$apply()},b=0;b<d.length;b++)!function(){var e=document.createElement("div"),t=d[b];e.setAttribute("class","rg-"+d[b]),e.innerHTML=h,r[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){v(e,t)},!1)}()}}}]);