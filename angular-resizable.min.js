angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t,r=[];return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(t,n,i){var a="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"msFlexPreferredSize"in document.documentElement.style?"msFlexPreferredSize":"flexBasis";t.$watch("rWidth",function(e){n[0].style.width=t.rWidth+"px"}),t.$watch("rHeight",function(e){n[0].style.height=t.rHeight+"px"}),t.$watch("rDirections",function(){w()}),n.addClass("resizable");var s,o,l,u,c,d=window.getComputedStyle(n[0],null),h=t.rCenteredX?2:1,m=t.rCenteredY?2:1,p=t.rGrabber?t.rGrabber:"<span></span>",f={},g=function(e){f.width=!1,f.height=!1,"x"===c?f.width=parseInt(n[0].style[t.rFlex?a:"width"]):f.height=parseInt(n[0].style[t.rFlex?a:"height"]),f.id=n[0].id,f.evt=e},v=function(r){var i,d="x"===c?l-r.clientX:l-r.clientY;switch(u){case"top":i=t.rFlex?a:"height",n[0].style[i]=o+d*m+"px";break;case"bottom":i=t.rFlex?a:"height",n[0].style[i]=o-d*m+"px";break;case"right":i=t.rFlex?a:"width",n[0].style[i]=s-d*h+"px";break;case"left":i=t.rFlex?a:"width",n[0].style[i]=s+d*h+"px"}g(r),e(function(){t.$emit("angular-resizable.resizing",f)})},x=function(e){g(),t.$emit("angular-resizable.resizeEnd",f),t.$apply(),document.removeEventListener("mouseup",x,!1),document.removeEventListener("mousemove",v,!1),n.removeClass("no-transition")},b=function(e,r){u=r,c="left"===u||"right"===u?"x":"y",l="x"===c?e.clientX:e.clientY,s=parseInt(d.getPropertyValue("width")),o=parseInt(d.getPropertyValue("height")),n.addClass("no-transition"),document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",v,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,g(e),t.$emit("angular-resizable.resizeStart",f),t.$apply()},w=function(){var e=t.rDirections;r.forEach(function(e){e.remove()}),r=[],e.forEach(function(e){var i=document.createElement("div");i.setAttribute("class","rg-"+e),i.innerHTML=p,n[0].appendChild(i),i.ondragstart=function(){return!1},i.addEventListener("mousedown",function(r){var n="true"===t.rDisabled;n||1!==r.which||b(r,e)},!1),r.push(i)})};w()}}});